<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸˆ çŒ«ã®é¡”ã‚¹ãƒ­ãƒƒãƒˆ</title>
    <style>
        /* CSS (è¦‹ãŸç›®ã‚’æ•´ãˆã¾ã™) */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f3e5f5; /* ã‚„ã•ã—ã„ç´« */
            color: #4a148c; /* æ¿ƒã„ç´« */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            user-select: none;
        }

        #game-container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
            width: 90%;
            max-width: 450px;
        }

        h1 {
            color: #ab47bc; /* ç´«è‰² */
            margin-top: 0;
        }

        /* â–¼ ãƒªãƒ¼ãƒ«ï¼ˆé¡”ã®ãƒ‘ãƒ¼ãƒ„ï¼‰ã‚’ç¸¦ã«ä¸¦ã¹ã‚‹ â–¼ */
        #reels {
            display: flex;
            flex-direction: column; /* ç¸¦ç©ã¿ã«ã™ã‚‹ */
            align-items: center; /* ä¸­å¤®æƒãˆ */
            margin: 20px 0;
            background-color: #fafafa;
            border: 5px solid #e1bee7; /* è–„ç´« */
            border-radius: 10px;
            padding: 20px;
        }

        /* â–¼ ãƒ‘ãƒ¼ãƒ„ã®ã‚¹ã‚¿ã‚¤ãƒ« (é¡”æ–‡å­—ã‚’ä½¿ã†ã®ã§ãƒ•ã‚©ãƒ³ãƒˆæŒ‡å®š) â–¼ */
        .reel {
            font-family: 'monospace', 'MS PGothic', 'Osaka-mono', sans-serif;
            font-size: 40px; /* é¡”æ–‡å­—ã®å¤§ãã• */
            font-weight: bold;
            color: #5e35b1; /* ãƒ‘ãƒ¼ãƒ„ã®è‰² */
            width: 250px;
            height: 60px;
            line-height: 60px;
            background-color: #ffffff;
            border: 2px solid #eeeeee;
            border-radius: 10px;
            margin: 5px 0; /* ãƒ‘ãƒ¼ãƒ„é–“ã®ã™ãã¾ */
            overflow: hidden;
            text-align: center;
        }

        /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ */
        #result {
            font-size: 24px;
            font-weight: bold;
            color: #d81b60; /* ãƒ”ãƒ³ã‚¯è‰² */
            height: 30px;
            margin: 20px 0;
        }

        /* ã‚¹ãƒˆãƒƒãƒ—ãƒœã‚¿ãƒ³ (3ã¤æ¨ªä¸¦ã³) */
        #controls {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            gap: 10px; /* ãƒœã‚¿ãƒ³é–“ã®ã™ãã¾ */
        }

        .stop-button {
            font-size: 14px;
            padding: 10px 10px;
            width: 100px;
            background-color: #4fc3f7; /* æ°´è‰² */
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .stop-button:disabled {
            background-color: #b0bec5; /* ã‚°ãƒ¬ãƒ¼ */
        }

        #start-button {
            font-size: 20px;
            padding: 15px 30px;
            width: 100%;
            background-color: #66bb6a; /* ç·‘è‰² */
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        #start-button:disabled {
            background-color: #b0bec5;
        }

    </style>
</head>
<body>

    <div id="game-container">
        <h1>ğŸˆ çŒ«ã®é¡”ã‚¹ãƒ­ãƒƒãƒˆ ğŸˆ</h1>

        <div id="reels">
            <div class="reel" id="reel-eye">(^.^)</div> <div class="reel" id="reel-nose">( â—ˆ )</div> <div class="reel" id="reel-mouth">( _ )</div> </div>

        <div id="result"></div>

        <div id="controls">
            <button class="stop-button" id="stop-eye" disabled>ç›®ã®ã‚¹ãƒˆãƒƒãƒ—</button>
            <button class="stop-button" id="stop-nose" disabled>é¼»ã®ã‚¹ãƒˆãƒƒãƒ—</button>
            <button class="stop-button" id="stop-mouth" disabled>å£ã®ã‚¹ãƒˆãƒƒãƒ—</button>
        </div>

        <button id="start-button">ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    </div>

    <script>
        // JavaScript (ã‚¹ãƒ­ãƒƒãƒˆã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤‰æ›´)

        // --- 1. ãƒ‘ãƒ¼ãƒ„ã®å®šç¾© (å„4ç¨®é¡) ---
        const eyes = ['(^.^)', '(o_o)', '(>.<)', '(*_*)'];
        const noses = ['( â—ˆ )', '( o )', '( 3 )', '( . )'];
        const mouths = ['( _ )', '( w )', '( â–½ )', '( U )'];

        // --- è¡¨æƒ…ã®è¾æ›¸ ---
        const eyeDescriptions = {
            '(^.^)': 'ã«ã“ã«ã“',
            '(o_o)': 'ã³ã£ãã‚Š',
            '(>.<)': 'ã“ã¾ã£ãŸ',
            '(*_*)': 'ã‚­ãƒ©ã‚­ãƒ©'
        };
        const mouthDescriptions = {
            '( _ )': 'ã‚€ã£',
            '( w )': 'ã«ã±ãƒ¼',
            '( â–½ )': 'ã‚ãƒ¼',
            '( U )': 'ã†ãµãµ'
        };

        // --- 2. HTMLã®è¦ç´ ã‚’å–å¾— ---
        const reelEye = document.getElementById('reel-eye');
        const reelNose = document.getElementById('reel-nose');
        const reelMouth = document.getElementById('reel-mouth');

        const stopEye = document.getElementById('stop-eye');
        const stopNose = document.getElementById('stop-nose');
        const stopMouth = document.getElementById('stop-mouth');
        
        const startButton = document.getElementById('start-button');
        const resultDiv = document.getElementById('result');

        // --- 3. ãƒªãƒ¼ãƒ«ã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹å¤‰æ•° ---
        let intervalEye, intervalNose, intervalMouth;
        let isSpinningEye = false;
        let isSpinningNose = false;
        let isSpinningMouth = false;

        // --- 4. ãƒ©ãƒ³ãƒ€ãƒ ã«ãƒ‘ãƒ¼ãƒ„ã‚’é¸ã¶é–¢æ•° ---
        function getRandomPart(partsArray) {
            const index = Math.floor(Math.random() * partsArray.length);
            return partsArray[index];
        }

        // --- 5. ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã¨ãã®å‡¦ç† ---
        startButton.addEventListener('click', () => {
            if (intervalEye) clearInterval(intervalEye);
            if (intervalNose) clearInterval(intervalNose);
            if (intervalMouth) clearInterval(intervalMouth);

            isSpinningEye = true;
            isSpinningNose = true;
            isSpinningMouth = true;

            startButton.disabled = true;
            stopEye.disabled = false;
            stopNose.disabled = false;
            stopMouth.disabled = false;

            resultDiv.textContent = ''; // çµæœã‚’ãƒªã‚»ãƒƒãƒˆ

            // å„ãƒªãƒ¼ãƒ«ã‚’å›è»¢ (0.05ç§’ã”ã¨ã«ãƒ‘ãƒ¼ãƒ„ã‚’å¤‰ãˆã‚‹)
            intervalEye = setInterval(() => {
                reelEye.textContent = getRandomPart(eyes);
            }, 50);

            intervalNose = setInterval(() => {
                reelNose.textContent = getRandomPart(noses);
            }, 50);

            intervalMouth = setInterval(() => {
                reelMouth.textContent = getRandomPart(mouths);
            }, 50);
        });

        // --- 6. å„ã‚¹ãƒˆãƒƒãƒ—ãƒœã‚¿ãƒ³ã®å‡¦ç† ---
        stopEye.addEventListener('click', () => {
            clearInterval(intervalEye);
            isSpinningEye = false;
            stopEye.disabled = true;
            checkAllStopped();
        });

        stopNose.addEventListener('click', () => {
            clearInterval(intervalNose);
            isSpinningNose = false;
            stopNose.disabled = true;
            checkAllStopped();
        });

        stopMouth.addEventListener('click', () => {
            clearInterval(intervalMouth);
            isSpinningMouth = false;
            stopMouth.disabled = true;
            checkAllStopped();
        });

        // --- 7. ã™ã¹ã¦ã®ãƒªãƒ¼ãƒ«ãŒæ­¢ã¾ã£ãŸã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹é–¢æ•° ---
        function checkAllStopped() {
            // 1ã¤ã§ã‚‚å›è»¢ä¸­ãªã‚‰ä½•ã‚‚ã—ãªã„
            if (isSpinningEye || isSpinningNose || isSpinningMouth) {
                return;
            }

            // 3ã¤ã¨ã‚‚æ­¢ã¾ã£ã¦ã„ãŸã‚‰ã€çµæœã‚’è¡¨ç¤º
            const finalEye = reelEye.textContent;
            const finalMouth = reelMouth.textContent;

            const desc1 = eyeDescriptions[finalEye] || 'ãµã—ã';
            const desc2 = mouthDescriptions[finalMouth] || 'ãª';

            resultDiv.textContent = `ã€Œ${desc1}ã€ã§ã€Œ${desc2}ã€é¡”ã®çŒ«ã ï¼`;
            
            // ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’å†åº¦æœ‰åŠ¹åŒ–
            startButton.disabled = false;
        }
    </script>

</body>
</html>